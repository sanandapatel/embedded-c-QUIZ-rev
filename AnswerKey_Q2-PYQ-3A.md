# IIT Madras BS ES - Embedded C Programming
## ANSWER KEY: Q2-PYQ-3A
**Exam:** Foundation Level - Embedded C Programming  
**Duration:** 120 minutes  
**Total Marks:** 540  
**Date:** March 2025

---

## **SECTION 1: EMBEDDED C PROGRAMMING**
**Section Marks:** 50  
**Total Questions:** 18

### Question 1
**Type:** Multiple Choice Question  
**Marks:** 0  
**Correct Answer:** NO *(This is a confirmation question)*

---

### Question 2
**Type:** Multiple Select Question  
**Marks:** 3  
**Question:** Which of the following is/are not valid IPv4 addresses?

**Correct Answers:**
- ✅ **300.25.50.100** - Invalid (octet value > 255)
- ❌ 172.16.254.1 - Valid
- ✅ **10.0.300.5** - Invalid (octet value > 255)
- ✅ **192.168.0.256** - Invalid (octet value > 255)
- ❌ 203.120.45.60 - Valid

**Explanation:** IPv4 addresses consist of four octets, each with a range of 0-255. Any octet value exceeding 255 renders the address invalid.

---

### Question 3
**Type:** Multiple Choice Question  
**Marks:** 3  
**Question:** Which of the following is NOT a characteristic of SPI communication?

**Correct Answer:** ✅ **Uses start and stop bits for framing**

**Explanation:** SPI does NOT use start and stop bits for framing. SPI is a synchronous protocol that uses:
- Chip Select (CS) to select the slave
- Clock (SCK) for synchronization
- Full-duplex communication on MOSI/MISO lines

Start and stop bits are characteristics of **UART/Serial communication**, not SPI.

---

### Question 4
**Type:** Multiple Choice Question  
**Marks:** 3  
**Question:** Which of the following is an example of a connection-oriented communication protocol?

**Correct Answer:** ✅ **TCP**

**Explanation:**
- **TCP (Transmission Control Protocol)** - Connection-oriented, establishes connection before data transfer
- **UDP** - Connectionless
- **ICMP** - Connectionless (used for ping, traceroute)
- **DHCP** - Connectionless (dynamic host configuration)

---

### Question 5
**Type:** Multiple Choice Question  
**Marks:** 3  
**Question:** Which of the following is a key advantage of using serial communication over parallel communication in embedded systems?

**Correct Answer:** ✅ **It reduces the number of required I/O pins**

**Explanation:** Serial communication uses fewer pins compared to parallel communication. While parallel communication can transfer multiple bits simultaneously, serial communication transfers data one bit at a time over a single line (or pair of lines), significantly reducing the number of I/O pins required.

---

### Question 6
**Type:** Multiple Choice Question  
**Marks:** 3  
**Question:** What are the final values of AX and BX registers after executing the assembly code?

```
MOV AX, 25      ; AX = 25
MOV BX, 15      ; BX = 15
SUB AX, BX      ; AX = 25 - 15 = 10
MOV CX, 8       ; CX = 8
ADD BX, CX      ; BX = 15 + 8 = 23
```

**Correct Answer:** ✅ **AX = 10, BX = 23**

**Calculation:**
- AX = 25 - 15 = 10
- BX = 15 + 8 = 23

---

### Question 7
**Type:** Multiple Choice Question  
**Marks:** 3  
**Question:** What happens when a microcontroller receives an interrupt request?

**Correct Answer:** ✅ **The interrupt vector table is checked to find the appropriate ISR**

**Explanation:** When an interrupt occurs:
1. The microcontroller checks the interrupt vector table
2. Finds the address of the corresponding Interrupt Service Routine (ISR)
3. Saves the current program counter (return address)
4. Jumps to the ISR
5. After ISR completes, returns to the original execution point

---

### Question 8
**Type:** Multiple Choice Question  
**Marks:** 3  
**Question:** What is the primary role of a linker in an embedded system?

**Correct Answer:** ✅ **It resolves symbol references and combines object files into a single executable**

**Explanation:** The linker:
- Takes object files (.obj) generated by the compiler
- Resolves external symbol references between files
- Combines multiple object files into a single executable
- Assigns final memory addresses
- Creates the final ELF/HEX executable file

---

### Question 9
**Type:** Multiple Choice Question  
**Marks:** 3  
**Question:** Which design pattern is most suitable for event-based communication?

**Correct Answer:** ✅ **Observer Pattern**

**Explanation:** The Observer Pattern:
- Defines a one-to-many relationship between objects
- When one object changes state, all observers are notified automatically
- Perfect for event-driven systems where components need loose coupling
- Other patterns:
  - **Singleton** - Single instance
  - **Factory** - Object creation
  - **Command** - Encapsulating requests

---

### Question 10
**Type:** Multiple Choice Question  
**Marks:** 3  
**Question:** Most effective method to manage power consumption during inactivity?

**Correct Answer:** ✅ **Use sleep or low-power modes**

**Explanation:** Modern microcontrollers have various power modes:
- **Sleep modes** - CPU stops, peripherals may continue
- **Deep sleep** - Most peripherals powered down
- **Hibernation** - Minimal power consumption
This allows the CPU to wake up on interrupt while significantly reducing power consumption.

---

### Question 11
**Type:** Multiple Choice Question  
**Marks:** 3  
**Question:** What is the result of the expression 0xA5 & 0x3F?

**Calculation:**
```
0xA5 = 1010 0101 (binary)
0x3F = 0011 1111 (binary)
AND  = 0010 0101 (binary) = 0x25 (hex)
```

**Correct Answer:** ✅ **0x25**

---

### Question 12
**Type:** Multiple Choice Question  
**Marks:** 3  
**Question:** What is the primary role of a makefile?

**Correct Answer:** ✅ **To help compile and link code**

**Explanation:** A makefile:
- Specifies dependencies between source files
- Defines compilation rules and commands
- Handles linking of object files
- Automates the build process
- Supports incremental compilation (only recompile changed files)

---

### Question 13
**Type:** Multiple Choice Question  
**Marks:** 3  
**Question:** What is the role of an Event Handler in event-driven architecture?

**Correct Answer:** ✅ **To define actions in response to specific events**

**Explanation:** An Event Handler:
- Is a function/routine that executes when a specific event occurs
- Processes the event and performs appropriate actions
- Enables responsive, event-driven programming
- Common in embedded systems for handling interrupts, button presses, timer events, etc.

---

### Question 14
**Type:** Multiple Choice Question  
**Marks:** 2  
**Question:** Best wireless protocol for short-range, low-power applications?

**Correct Answer:** ✅ **Zigbee**

**Explanation:**
- **Zigbee** - 2.4 GHz, mesh networking, very low power, short range (10-100m)
- **LoRa** - Long range but higher latency
- **WiFi** - Higher power consumption
- **LTE** - Mobile network, higher power

Zigbee is ideal for smart home automation and sensor networks.

---

### Question 15
**Type:** Multiple Choice Question  
**Marks:** 2  
**Question:** Protocol widely used in automotive and industrial applications?

**Correct Answer:** ✅ **CAN (Controller Area Network)**

**Explanation:**
- **CAN** - Robust, real-time, fault-tolerant, widely used in automotive and industrial
- **Profibus** - Industrial automation
- **ModBus** - Industrial protocols
- **Ethernet/IP** - Industrial Ethernet

CAN is the de facto standard for automotive systems and many industrial applications.

---

### Question 16
**Type:** Multiple Choice Question  
**Marks:** 2  
**Question:** Primary advantage of interrupt-driven programming?

**Correct Answer:** ✅ **It reduces power consumption by allowing the CPU to sleep until needed**

**Explanation:** Interrupt-driven programming:
- Allows CPU to enter sleep/low-power mode
- CPU wakes up only when an interrupt occurs
- Significantly reduces power consumption vs. polling
- Ideal for battery-powered embedded systems

---

### Question 17
**Type:** Multiple Choice Question  
**Marks:** 4  
**Question:** Final state after processing two events sequentially?

**Initial State:** STATE_RUNNING_HIGH  
**Event Sequence:**
1. EVENT_SPEED_THRESHOLD → Transitions to STATE_OVERSPEED
2. EVENT_BUTTON_PRESS → In STATE_OVERSPEED, EVENT_BUTTON_PRESS transitions to STATE_STOPPED

**Correct Answer:** ✅ **STATE_STOPPED**

**Trace:**
- Start: STATE_RUNNING_HIGH
- After EVENT_SPEED_THRESHOLD: STATE_OVERSPEED (line: `currentState = STATE_OVERSPEED`)
- After EVENT_BUTTON_PRESS: STATE_STOPPED (line: `currentState = STATE_STOPPED` in OVERSPEED case)

---

### Question 18
**Type:** Multiple Choice Question  
**Marks:** 4  
**Question:** Minimum time to transmit 500 bytes at 115200 bps using 8N1 protocol?

**Calculation:**
- 8N1 protocol: 8 data bits + 1 stop bit = 9 bits per byte
- Total bits: 500 bytes × 10 bits/byte = 5000 bits *(Note: start bit is implicit in serial protocols)*
- Actually: 1 start + 8 data + 1 parity + 1 stop = 11 bits per byte (for full 8N1)
- Total bits: 500 × 10 = 5000 bits (standard for 8N1)

**Time calculation:**
```
Transmission time = Total bits / Baud rate
                  = 5000 bits / 115200 bps
                  = 0.04340 seconds
                  = 43.40 milliseconds
```

**Correct Answer:** ✅ **43.40 milliseconds**

---

## **SECTION 2: ELECTRONIC SYSTEMS THINKING AND CIRCUITS**
**Section Marks:** 40  
**Total Questions:** 19

### Question 19
**Type:** Multiple Choice Question  
**Marks:** 0  
**Note:** Confirmation question - similar to Question 1

---

**END OF ANSWER KEY**

---

## **Summary Statistics**

| Section | Questions | Total Marks | Question Types |
|---------|-----------|------------|-----------------|
| Embedded C Programming | 18 | 50 | MCQ, MSQ |
| Electronic Systems Thinking | 1 | 0 | Confirmation |
| **Total** | **19** | **50** | - |

**Key Topics Covered:**
- IPv4 addressing and validation
- SPI communication protocol
- TCP/IP protocols (TCP, UDP, ICMP, DHCP)
- Serial vs Parallel communication
- Assembly language and registers
- Interrupt handling and ISR
- Linker functionality
- Design patterns (Observer, Singleton, Factory, Command)
- Power management and sleep modes
- Bitwise operations
- Build systems (Make)
- Event handlers
- Wireless protocols (Zigbee, LoRa, WiFi, LTE, CAN)
- Finite State Machines (FSM)
- Serial transmission calculations
